
stage: build
timestamp: "2025-10-17T16:00:00Z"
build_engineer: "Carlos Martinez"
ci_cd_platform: "GitHub Actions"

build:
  build_id: "BUILD-2024-1017-001"
  build_number: 1247
  branch: "feature/payment-integration"
  commit_sha: "a3f7b2c1d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9"
  build_status: "SUCCESS"
  duration_seconds: 342
  
  environment:
    java_version: "17.0.9"
    maven_version: "3.9.5"
    docker_version: "24.0.7"
    
  artifacts:
    - name: "payment-service.jar"
      size_mb: 58.3
      sha256: "9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08"
      
    - name: "payment-service-docker-image"
      repository: "acme-corp/payment-service"
      tag: "2.1.0-a3f7b2c"
      digest: "sha256:44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a"

ci_pipeline:
  steps:
    - step: "checkout"
      status: "passed"
      duration_seconds: 5
      
    - step: "dependency_download"
      status: "passed"
      duration_seconds: 45
      dependencies_downloaded: 127
      
    - step: "compile"
      status: "passed"
      duration_seconds: 28
      warnings: 0
      errors: 0
      
    - step: "unit_tests"
      status: "passed"
      duration_seconds: 67
      tests_total: 384
      tests_passed: 384
      tests_failed: 0
      tests_skipped: 0
      coverage_percentage: 87.3
      
    - step: "integration_tests"
      status: "passed"
      duration_seconds: 124
      tests_total: 56
      tests_passed: 56
      tests_failed: 0
      
    - step: "security_scans"
      status: "passed"
      duration_seconds: 89
      scans_performed:
        - name: "SAST"
          tool: "Semgrep"
          findings: 3
          severity_breakdown:
            critical: 0
            high: 0
            medium: 2
            low: 1
            
        - name: "SCA"
          tool: "Trivy"
          findings: 15
          severity_breakdown:
            critical: 0
            high: 0
            medium: 3
            low: 12
            
        - name: "Secret Scanning"
          tool: "GitGuardian"
          findings: 0
          
        - name: "Container Scanning"
          tool: "Trivy"
          findings: 8
          severity_breakdown:
            critical: 0
            high: 0
            medium: 1
            low: 7
            
    - step: "build_artifact"
      status: "passed"
      duration_seconds: 42
      
    - step: "sign_artifact"
      status: "passed"
      duration_seconds: 3
      signing_method: "Cosign"
      signature_verification: "verified"

slsa_provenance:
  version: "1.0"
  predicate_type: "https://slsa.dev/provenance/v1.0"
  
  subject:
    - name: "payment-service.jar"
      digest:
        sha256: "9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08"
        
  builder:
    id: "https://github.com/acme-corp/payment-platform/.github/workflows/build.yml@refs/heads/main"
    version: "v1.2.3"
    
  build_type: "https://github.com/acme-corp/build-types/maven-build@v1"
  
  invocation:
    config_source:
      uri: "git+https://github.com/acme-corp/payment-platform@refs/heads/feature/payment-integration"
      digest:
        sha1: "a3f7b2c1d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9"
      entry_point: ".github/workflows/build.yml"
      
  build_config:
    steps:
      - command: ["mvn", "clean", "verify"]
      - command: ["docker", "build", "-t", "payment-service:2.1.0-a3f7b2c", "."]
      
  materials:
    - uri: "git+https://github.com/acme-corp/payment-platform"
      digest:
        sha1: "a3f7b2c1d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9"

quality_gates:
  - gate: "code_coverage"
    threshold: 80.0
    actual: 87.3
    status: "passed"
    
  - gate: "security_vulnerabilities"
    threshold_critical: 0
    threshold_high: 0
    actual_critical: 0
    actual_high: 0
    status: "passed"
    
  - gate: "unit_test_success_rate"
    threshold: 100.0
    actual: 100.0
    status: "passed"
    
  - gate: "build_time"
    threshold_seconds: 600
    actual_seconds: 342
    status: "passed"

attestations:
  - type: "SBOM"
    format: "CycloneDX"
    location: "artifacts/sbom.json"
    signed: true
    signature_algorithm: "RSA-SHA256"
    
  - type: "Provenance"
    format: "SLSA v1.0"
    location: "artifacts/provenance.json"
    signed: true
    signature_algorithm: "RSA-SHA256"
    
  - type: "Vulnerability Scan"
    format: "SARIF"
    location: "artifacts/scan-results.sarif"
    signed: true
    signature_algorithm: "RSA-SHA256"
